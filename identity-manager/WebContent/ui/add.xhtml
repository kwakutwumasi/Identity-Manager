<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:com="http://quakearts.com/2.0/common"
    xmlns:ident="http://quakearts.com/identity"
    xmlns:b="http://quakearts.com/2.0/boot">
    
<ui:composition template="../ua/t_base_bare.xhtml">
	<ui:define name="body">
		<h:form>
   		<b:messages showDetail="true" dismissible="true"></b:messages>
		<b:column sm="12" md="6" styleClass="col-md-offset-3">
			<b:panel>
				<f:facet name="header"> Create User</f:facet>
				<b:inputText label="Username" value="#{userManagement.user.username}" />
				<b:inputText label="Name" value="#{userManagement.user.name}" />
				<b:selectOneInputGroup label="Application" value="#{systemManagement.application}">
					<f:selectItems value="#{systemManagement.applications}"></f:selectItems>
					<f:ajax execute="@form" render="@form" onevent="#{loader.miniAjaxLoader}"></f:ajax>
				</b:selectOneInputGroup>
				<b:selectManyListbox value="#{userManagement.roles}">
					<f:selectItems value="#{systemManagement.roles}"></f:selectItems>
				</b:selectManyListbox>
				<ident:password value="#{userManagement.user.password}" validating="true" />
				<b:inputText label="Custom roles" value="#{userManagement.userroles}" />
				<b:checkbox value="#{userManagement.user.valid}" label="Active" style="min-width:0px;"></b:checkbox>
				<b:button value="Add User">
					<f:ajax onevent="#{loader.miniAjaxLoader}" execute="@form" render="@form"></f:ajax>
					<com:executeAction listener="#{userManagement.addUser}"></com:executeAction>
				</b:button>
			</b:panel>
		</b:column>
		</h:form>
	</ui:define>
</ui:composition>
</html>